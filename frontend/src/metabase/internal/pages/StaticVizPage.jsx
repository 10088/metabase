import React from "react";
import { Box } from "grid-styled";

import Heading from "metabase/components/type/Heading";
import Subhead from "metabase/components/type/Subhead";
import Text from "metabase/components/type/Text";

import { RenderChart } from "../../static-viz/";

export default function StaticVizPage() {
  return (
    <Box py={4}>
      <Box className="wrapper wrapper--trim">
        <Heading>Static Visualisations</Heading>
        <Text>
          These visualizations are used in dashboard subscriptions. They have no
          interactivity and get generated by the backend to be sent to Slack or
          in emails. You can use this playground to work on the source code in
          /static-viz/ and see the effects. You might need to hard refresh to
          see updates.
        </Text>
        <Box py={3}>
          <Subhead>Bar chart with timeseries data</Subhead>
          <Box
            dangerouslySetInnerHTML={{
              __html: RenderChart("timeseries/bar", {
                data: [["2010-11-07", 20], ["2020-11-07", 30]],
                accessors: {
                  x: row => new Date(row[0]).valueOf(),
                  y: row => row[1],
                },
              }),
            }}
          ></Box>
        </Box>
        <Box py={3}>
          <Subhead>Line chart with timeseries data</Subhead>
          <Box
            dangerouslySetInnerHTML={{
              __html: RenderChart("timeseries/line", {
                data: [
                  ["2010-11-07", 20],
                  ["2020-11-07", 30],
                  ["2021-11-07", 31],
                ],
                accessors: {
                  x: row => new Date(row[0]).valueOf(),
                  y: row => row[1],
                },
              }),
            }}
          ></Box>
        </Box>
        <Box py={3}>
          <Subhead>Donut chart showing categorical data</Subhead>
          <Box
            dangerouslySetInnerHTML={{
              __html: RenderChart("categorical/donut", {
                data: [["donut", 20], ["cronut", 31]],
                colors: {
                  donut: "red",
                  cronut: "blue",
                },
                accessors: {
                  dimension: row => row[0],
                  metric: row => row[1],
                },
              }),
            }}
          ></Box>
        </Box>
        <Box py={3}>
          <Subhead>US Map</Subhead>
          <Box
            dangerouslySetInnerHTML={{
              __html: RenderChart("map/us", {
                data:
                  [
                    [
                      "AK",
                      68
                    ],
                    [
                      "AL",
                      56
                    ],
                    [
                      "AR",
                      49
                    ],
                    [
                      "AZ",
                      20
                    ],
                    [
                      "CA",
                      90
                    ],
                    [
                      "CO",
                      81
                    ],
                    [
                      "CT",
                      7
                    ],
                    [
                      "DE",
                      4
                    ],
                    [
                      "FL",
                      39
                    ],
                    [
                      "GA",
                      78
                    ],
                    [
                      "IA",
                      104
                    ],
                    [
                      "ID",
                      30
                    ],
                    [
                      "IL",
                      68
                    ],
                    [
                      "IN",
                      61
                    ],
                    [
                      "KS",
                      53
                    ],
                    [
                      "KY",
                      50
                    ],
                    [
                      "LA",
                      41
                    ],
                    [
                      "MA",
                      15
                    ],
                    [
                      "MD",
                      10
                    ],
                    [
                      "ME",
                      19
                    ],
                    [
                      "MI",
                      71
                    ],
                    [
                      "MN",
                      96
                    ],
                    [
                      "MO",
                      81
                    ],
                    [
                      "MS",
                      54
                    ],
                    [
                      "MT",
                      108
                    ],
                    [
                      "NC",
                      74
                    ],
                    [
                      "ND",
                      73
                    ],
                    [
                      "NE",
                      76
                    ],
                    [
                      "NH",
                      7
                    ],
                    [
                      "NJ",
                      10
                    ],
                    [
                      "NM",
                      22
                    ],
                    [
                      "NV",
                      7
                    ],
                    [
                      "NY",
                      74
                    ],
                    [
                      "OH",
                      65
                    ],
                    [
                      "OK",
                      37
                    ],
                    [
                      "OR",
                      40
                    ],
                    [
                      "PA",
                      57
                    ],
                    [
                      "RI",
                      1
                    ],
                    [
                      "SC",
                      43
                    ],
                    [
                      "SD",
                      62
                    ],
                    [
                      "TN",
                      47
                    ],
                    [
                      "TX",
                      194
                    ],
                    [
                      "UT",
                      13
                    ],
                    [
                      "VA",
                      49
                    ],
                    [
                      "VT",
                      10
                    ],
                    [
                      "WA",
                      41
                    ],
                    [
                      "WI",
                      87
                    ],
                    [
                      "WV",
                      21
                    ],
                    [
                      "WY",
                      37
                    ]
                  ],
              }),
            }}
          ></Box>
        </Box>
      </Box>
    </Box >
  );
}
